# ===========================================================================
# ANSIBLE INVENTORY - AUTO-GENERATED FROM OPENTOFU
# ===========================================================================
# DO NOT EDIT MANUALLY - Changes will be overwritten!
# To regenerate: python3 import-tofu-to-ansible.py
#
# CTF TEAM STRUCTURE:
#   - Grey Team (scoring): Competition infrastructure
#   - Blue Team (windows_dc, blue_*): Defenders
#   - Red Team (red_team): Attackers
# ===========================================================================

# ---------------------------------------------------------------------------
# SCORING SERVERS (Grey Team)
# ---------------------------------------------------------------------------
# Grey Team runs the competition: scoring engine, monitoring, infrastructure.
[scoring]
scoring-1 ansible_host=100.65.6.76 internal_ip=10.10.10.11

# ---------------------------------------------------------------------------
# BLUE TEAM WINDOWS VMS
# ---------------------------------------------------------------------------
# Windows VMs for Blue Team to defend. First VM is Domain Controller.
[blue_windows]
dc01 ansible_host=100.65.3.50 internal_ip=10.10.10.21
blue-win-2 ansible_host=100.65.2.147 internal_ip=10.10.10.22

# ---------------------------------------------------------------------------
# BLUE TEAM LINUX VMS
# ---------------------------------------------------------------------------
# Linux servers for Blue Team to defend (web, database, etc.)
[blue_linux]
webserver ansible_host=100.65.2.132 internal_ip=10.10.10.31
blue-linux-2 ansible_host=100.65.2.242 internal_ip=10.10.10.32

# ---------------------------------------------------------------------------
# RED TEAM KALI VMS
# ---------------------------------------------------------------------------
# Kali attack machines for Red Team. Pre-loaded with pentesting tools.
[red_team]
red-kali-1 ansible_host=100.65.3.131 internal_ip=10.10.10.41
red-kali-2 ansible_host=100.65.5.41 internal_ip=10.10.10.42

# ---------------------------------------------------------------------------
# ROLE-BASED GROUPS
# ---------------------------------------------------------------------------
# These groups organize VMs by their role in the domain.

# Domain Controller - the first Blue Windows VM
[windows_dc]
dc01

# Windows member servers (domain members, not DC)
[blue_windows_members]
blue-win-2

# Linux domain members (join Active Directory)
[blue_linux_members]
webserver
blue-linux-2

# ---------------------------------------------------------------------------
# GROUP HIERARCHIES
# ---------------------------------------------------------------------------
# :children syntax creates parent groups containing other groups.
# This allows running playbooks against broad categories.

# All Windows VMs (for Windows-specific playbooks)
[windows:children]
windows_dc
blue_windows_members

# All Blue Team VMs (for Blue Team configuration)
[blue_team:children]
blue_windows
blue_linux

# All Linux VMs (for Linux-specific playbooks)
[linux_members:children]
blue_linux_members
red_team
scoring

# All VMs in the CTF
[all_vms:children]
scoring
blue_team
red_team

# ---------------------------------------------------------------------------
# GROUP VARIABLES
# ---------------------------------------------------------------------------
# Connection settings for each group. These can be overridden in group_vars/

[scoring:vars]
ansible_user=cyberrange
ansible_password=Cyberrange123!
ansible_python_interpreter=/usr/bin/python3

[blue_linux:vars]
ansible_user=cyberrange
ansible_password=Cyberrange123!
ansible_python_interpreter=/usr/bin/python3

[red_team:vars]
ansible_user=cyberrange
ansible_password=Cyberrange123!
ansible_python_interpreter=/usr/bin/python3
# Note: Kali may use 'kali' as default user depending on image

[blue_windows:vars]
ansible_user=cyberrange
ansible_password=Cyberrange123!
ansible_connection=winrm
ansible_winrm_transport=ntlm
ansible_winrm_server_cert_validation=ignore
ansible_winrm_proxy=socks5h://ssh.cyberrange.rit.edu:1080
# WinRM uses SOCKS proxy through jump host for access

# ---------------------------------------------------------------------------
# USAGE EXAMPLES
# ---------------------------------------------------------------------------
# Run playbook on all Blue Team VMs:
#   ansible-playbook -i inventory/production.ini playbooks/site.yml --limit blue_team
#
# Run playbook on Domain Controller only:
#   ansible-playbook -i inventory/production.ini playbooks/setup-domain-controller.yml --limit windows_dc
#
# Test connectivity to all Windows VMs:
#   ansible windows -i inventory/production.ini -m win_ping
#
# Test connectivity to Red Team VMs:
#   ansible red_team -i inventory/production.ini -m ping
# ---------------------------------------------------------------------------
